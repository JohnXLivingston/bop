{%- extends 'common/page.njk' -%}
{%- block content -%}
  <div class="widget-planning">
    <div class="widget-planning-container">
      <div class="widget-planning-header">
        <div class="widget-planning-label">
          Title...
        </div>
        <div class="widget-planning-calendar">
          {% for i in range(1, planningProperties.nbWeeks) %}
            <div class="widget-planning-week">
              <div class="widget-planning-week-label">
                <div>S0{{ i }}.</div>
                <div>Jan.</div>
              </div>
              <div class="widget-planning-week-days">
                {% for j in range (1, 8) %}
                  <div {% if j >= 6 %}class="widget-planning-dayoff"{% endif %}>
                    {{ (7 * (i - 1)) + j }}
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="widget-planning-content">
        {% macro planningNode(node, planningProperties) %}
          <div class="widget-planning-node">
            <div class="widget-planning-node-line">
              <div class="widget-planning-label">
                {{ node.name }}
              </div>
              <div class="widget-planning-calendar">
                {% for i in range(1, planningProperties.nbWeeks) %}
                  <div class="widget-planning-week">
                    <div class="widget-planning-week-days">
                      {% for j in range (1, 8) %}
                        <div {% if j >= 6 %}class="widget-planning-dayoff"{% endif %}></div>
                      {% endfor %}
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
            <div class="widget-planning-node-childs">
              {% if node.childs %}
                {% for child in node.childs %}
                  {{ planningNode(child, planningProperties) }}
                {% endfor %}
              {% endif %}
            </div>
          </div>
        {% endmacro %}
        {% for node in nodes %}
          {{ planningNode(node, planningProperties) }}
        {% endfor %}
      </div>
    </div>
  </div>
{%- endblock -%}